{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":1},"end":{"line":2,"column":65,"index":66}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../app/integrations/supabase/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":84,"index":151}}],"key":"6GXn7PAkjfLd/4QLcmmI0alLt58=","exportNames":["*"],"imports":1}},{"name":"../utils/performanceLogger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":185},"end":{"line":5,"column":89,"index":274}}],"key":"7HEHcTO/XKVoojzC2ul8upkrD/Q=","exportNames":["*"],"imports":1}},{"name":"../utils/realtimeManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":275},"end":{"line":6,"column":61,"index":336}}],"key":"g700c2KRByMVcariawKBJxFXIfA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCourts\", {\n    enumerable: true,\n    get: function () {\n      return useCourts;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _appIntegrationsSupabaseClient = require(_dependencyMap[3], \"../app/integrations/supabase/client\");\n  var _utilsPerformanceLogger = require(_dependencyMap[4], \"../utils/performanceLogger\");\n  var _utilsRealtimeManager = require(_dependencyMap[5], \"../utils/realtimeManager\");\n  var MOCK_COURTS = [{\n    id: '1',\n    name: 'Central Park Pickleball Courts',\n    address: '123 Park Ave, New York, NY',\n    latitude: 40.7829,\n    longitude: -73.9654,\n    activityLevel: 'high',\n    currentPlayers: 8,\n    averageSkillLevel: 3.5,\n    friendsPlayingCount: 0,\n    description: 'Beautiful outdoor courts in the heart of Central Park',\n    openTime: '6:00 AM',\n    closeTime: '10:00 PM'\n  }, {\n    id: '2',\n    name: 'Riverside Recreation Center',\n    address: '456 River Rd, Brooklyn, NY',\n    latitude: 40.7128,\n    longitude: -74.0060,\n    activityLevel: 'medium',\n    currentPlayers: 4,\n    averageSkillLevel: 2.5,\n    friendsPlayingCount: 0,\n    description: 'Indoor and outdoor courts with great river views',\n    openTime: '7:00 AM',\n    closeTime: '9:00 PM'\n  }, {\n    id: '3',\n    name: 'Sunset Community Courts',\n    address: '789 Sunset Blvd, Queens, NY',\n    latitude: 40.7282,\n    longitude: -73.7949,\n    activityLevel: 'low',\n    currentPlayers: 2,\n    averageSkillLevel: 1.5,\n    friendsPlayingCount: 0\n  }];\n  var skillLevelToNumber = skillLevel => {\n    switch (skillLevel) {\n      case 'Beginner':\n        return 1;\n      case 'Intermediate':\n        return 2;\n      case 'Advanced':\n        return 3;\n      default:\n        return 2;\n    }\n  };\n  var useCourts = userId => {\n    _s();\n    var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      courts = _useState2[0],\n      setCourts = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var realtimeManager = (0, _utilsRealtimeManager.useRealtimeManager)('useCourts');\n    var hasSetupRealtime = (0, _react.useRef)(false);\n    var fetchCourts = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      console.log('useCourts: Fetching courts...');\n      (0, _utilsPerformanceLogger.logPerformance)('QUERY_START', 'useCourts', 'fetchCourts');\n      if (!(0, _appIntegrationsSupabaseClient.isSupabaseConfigured)()) {\n        console.log('useCourts: Supabase not configured, using mock data');\n        setCourts(MOCK_COURTS);\n        setLoading(false);\n        (0, _utilsPerformanceLogger.logPerformance)('QUERY_END', 'useCourts', 'fetchCourts', {\n          mock: true\n        });\n        return;\n      }\n\n      // Check cache first (2 minute TTL)\n      var cacheKey = `courts_${userId || 'all'}`;\n      var cached = (0, _utilsPerformanceLogger.getCachedData)(cacheKey, 120000);\n      if (cached) {\n        console.log('useCourts: Using cached courts');\n        setCourts(cached);\n        setLoading(false);\n\n        // Refresh in background\n        setTimeout(() => {\n          fetchCourtsFromServer();\n        }, 100);\n        return;\n      }\n      yield fetchCourtsFromServer();\n    }), [userId]);\n    var fetchCourtsFromServer = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (!(0, _appIntegrationsSupabaseClient.isSupabaseConfigured)()) return;\n      try {\n        console.log('useCourts: Fetching from Supabase...');\n\n        // OPTIMIZED: Select only needed fields\n        var _yield$supabase$from$ = yield _appIntegrationsSupabaseClient.supabase.from('courts').select('id, name, address, city, zip_code, latitude, longitude, description, open_time, close_time, google_place_id'),\n          data = _yield$supabase$from$.data,\n          error = _yield$supabase$from$.error;\n        if (error) {\n          console.log('useCourts: Error fetching courts:', error);\n          throw error;\n        }\n        console.log('useCourts: Fetched', data?.length || 0, 'courts');\n\n        // Get user's friends if userId is provided\n        var friendIds = [];\n        if (userId) {\n          var _yield$supabase$from$2 = yield _appIntegrationsSupabaseClient.supabase.from('friends').select('friend_id').eq('user_id', userId).eq('status', 'accepted'),\n            friendsData = _yield$supabase$from$2.data;\n          friendIds = (friendsData || []).map(f => f.friend_id);\n          console.log('useCourts: User has', friendIds.length, 'friends');\n        }\n        var courtsWithActivity = yield Promise.all((data || []).map(/*#__PURE__*/function () {\n          var _ref3 = (0, _asyncToGenerator.default)(function* (court) {\n            // OPTIMIZED: Fetch check-ins with only needed fields\n            var _yield$supabase$from$3 = yield _appIntegrationsSupabaseClient.supabase.from('check_ins').select(`\n              skill_level, \n              user_id,\n              users!inner(dupr_rating)\n            `).eq('court_id', court.id).gte('expires_at', new Date().toISOString()),\n              checkIns = _yield$supabase$from$3.data,\n              checkInsError = _yield$supabase$from$3.error;\n            if (checkInsError) {\n              console.log('useCourts: Error fetching check-ins for court', court.id, ':', checkInsError);\n            }\n            var currentPlayers = checkIns?.length || 0;\n\n            // Count friends playing at this court\n            var friendsPlaying = checkIns?.filter(checkIn => friendIds.includes(checkIn.user_id)) || [];\n            var friendsPlayingCount = friendsPlaying.length;\n\n            // Calculate average skill level\n            var averageSkillLevel = 0;\n            if (currentPlayers > 0 && checkIns) {\n              var skillSum = checkIns.reduce((sum, checkIn) => {\n                return sum + skillLevelToNumber(checkIn.skill_level);\n              }, 0);\n              averageSkillLevel = skillSum / currentPlayers;\n            }\n\n            // Calculate average DUPR if data exists\n            var averageDupr;\n            if (checkIns && checkIns.length > 0) {\n              var duprRatings = checkIns.map(checkIn => checkIn.users?.dupr_rating).filter(rating => rating !== null && rating !== undefined);\n              if (duprRatings.length > 0) {\n                var duprSum = duprRatings.reduce((sum, rating) => sum + rating, 0);\n                averageDupr = duprSum / duprRatings.length;\n              }\n            }\n            var activityLevel = 'low';\n            if (currentPlayers >= 6) activityLevel = 'high';else if (currentPlayers >= 3) activityLevel = 'medium';\n            return {\n              id: court.id,\n              name: court.name,\n              address: court.address,\n              city: court.city,\n              zipCode: court.zip_code,\n              latitude: court.latitude,\n              longitude: court.longitude,\n              activityLevel,\n              currentPlayers,\n              averageSkillLevel,\n              friendsPlayingCount,\n              description: court.description,\n              openTime: court.open_time,\n              closeTime: court.close_time,\n              googlePlaceId: court.google_place_id,\n              averageDupr\n            };\n          });\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }()));\n        console.log('useCourts: Successfully processed courts with activity levels, skill averages, friend counts, and DUPR data');\n\n        // Cache the result\n        var cacheKey = `courts_${userId || 'all'}`;\n        (0, _utilsPerformanceLogger.setCachedData)(cacheKey, courtsWithActivity);\n        setCourts(courtsWithActivity);\n        (0, _utilsPerformanceLogger.logPerformance)('QUERY_END', 'useCourts', 'fetchCourts', {\n          courtsCount: courtsWithActivity.length\n        });\n      } catch (error) {\n        console.log('useCourts: Error in fetchCourts, falling back to mock data:', error);\n        setCourts(MOCK_COURTS);\n        (0, _utilsPerformanceLogger.logPerformance)('QUERY_END', 'useCourts', 'fetchCourts', {\n          error: true\n        });\n      } finally {\n        setLoading(false);\n        console.log('useCourts: Fetch complete');\n      }\n    }), [userId]);\n    (0, _react.useEffect)(() => {\n      console.log('useCourts: Initializing...');\n      fetchCourts();\n    }, [fetchCourts]);\n\n    // FIXED: Use RealtimeManager for robust subscription management\n    (0, _react.useEffect)(() => {\n      if (!(0, _appIntegrationsSupabaseClient.isSupabaseConfigured)() || hasSetupRealtime.current) {\n        return;\n      }\n      hasSetupRealtime.current = true;\n      console.log('useCourts: Setting up realtime subscription with RealtimeManager');\n\n      // Subscribe to check-ins changes with fallback\n      var unsubscribe = realtimeManager.subscribe({\n        table: 'check_ins',\n        event: '*',\n        onUpdate: () => {\n          console.log('useCourts: Check-in change detected via realtime, refreshing');\n          fetchCourts();\n        },\n        fallbackFetch: fetchCourts,\n        timeoutMs: 10000,\n        maxRetries: 3\n      });\n      return () => {\n        console.log('useCourts: Cleaning up realtime subscription');\n        unsubscribe();\n        hasSetupRealtime.current = false;\n      };\n    }, [fetchCourts, realtimeManager]);\n    return {\n      courts,\n      loading,\n      refetch: fetchCourts\n    };\n  };\n  _s(useCourts, \"BhrTptoAEM5VEYQFGfTk7XiSOys=\", false, function () {\n    return [_utilsRealtimeManager.useRealtimeManager];\n  });\n});","lineCount":262,"map":[[13,2,63,0,"Object"],[13,8,63,0],[13,9,63,0,"defineProperty"],[13,23,63,0],[13,24,63,0,"exports"],[13,31,63,0],[14,4,63,0,"enumerable"],[14,14,63,0],[15,4,63,0,"get"],[15,7,63,0],[15,18,63,0,"get"],[15,19,63,0],[16,6,63,0],[16,13,63,0,"useCourts"],[16,22,63,0],[17,4,63,0],[18,2,63,0],[19,2,253,2],[19,6,253,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,253,2],[19,45,253,2,"require"],[19,52,253,2],[19,53,253,2,"_dependencyMap"],[19,67,253,2],[20,2,253,2],[20,6,253,2,"_asyncToGenerator"],[20,23,253,2],[20,26,253,2,"_interopDefault"],[20,41,253,2],[20,42,253,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,253,2],[21,2,253,2],[21,6,253,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,253,2],[21,42,253,2,"require"],[21,49,253,2],[21,50,253,2,"_dependencyMap"],[21,64,253,2],[22,2,253,2],[22,6,253,2,"_slicedToArray"],[22,20,253,2],[22,23,253,2,"_interopDefault"],[22,38,253,2],[22,39,253,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,253,2],[23,2,2,0],[23,6,2,0,"_react"],[23,12,2,0],[23,15,2,0,"require"],[23,22,2,0],[23,23,2,0,"_dependencyMap"],[23,37,2,0],[24,2,3,0],[24,6,3,0,"_appIntegrationsSupabaseClient"],[24,36,3,0],[24,39,3,0,"require"],[24,46,3,0],[24,47,3,0,"_dependencyMap"],[24,61,3,0],[25,2,5,0],[25,6,5,0,"_utilsPerformanceLogger"],[25,29,5,0],[25,32,5,0,"require"],[25,39,5,0],[25,40,5,0,"_dependencyMap"],[25,54,5,0],[26,2,6,0],[26,6,6,0,"_utilsRealtimeManager"],[26,27,6,0],[26,30,6,0,"require"],[26,37,6,0],[26,38,6,0,"_dependencyMap"],[26,52,6,0],[27,2,8,0],[27,6,8,6,"MOCK_COURTS"],[27,17,8,26],[27,20,8,29],[27,21,9,2],[28,4,10,4,"id"],[28,6,10,6],[28,8,10,8],[28,11,10,11],[29,4,11,4,"name"],[29,8,11,8],[29,10,11,10],[29,42,11,42],[30,4,12,4,"address"],[30,11,12,11],[30,13,12,13],[30,41,12,41],[31,4,13,4,"latitude"],[31,12,13,12],[31,14,13,14],[31,21,13,21],[32,4,14,4,"longitude"],[32,13,14,13],[32,15,14,15],[32,16,14,16],[32,23,14,23],[33,4,15,4,"activityLevel"],[33,17,15,17],[33,19,15,19],[33,25,15,25],[34,4,16,4,"currentPlayers"],[34,18,16,18],[34,20,16,20],[34,21,16,21],[35,4,17,4,"averageSkillLevel"],[35,21,17,21],[35,23,17,23],[35,26,17,26],[36,4,18,4,"friendsPlayingCount"],[36,23,18,23],[36,25,18,25],[36,26,18,26],[37,4,19,4,"description"],[37,15,19,15],[37,17,19,17],[37,72,19,72],[38,4,20,4,"openTime"],[38,12,20,12],[38,14,20,14],[38,23,20,23],[39,4,21,4,"closeTime"],[39,13,21,13],[39,15,21,15],[40,2,22,2],[40,3,22,3],[40,5,23,2],[41,4,24,4,"id"],[41,6,24,6],[41,8,24,8],[41,11,24,11],[42,4,25,4,"name"],[42,8,25,8],[42,10,25,10],[42,39,25,39],[43,4,26,4,"address"],[43,11,26,11],[43,13,26,13],[43,41,26,41],[44,4,27,4,"latitude"],[44,12,27,12],[44,14,27,14],[44,21,27,21],[45,4,28,4,"longitude"],[45,13,28,13],[45,15,28,15],[45,16,28,16],[45,23,28,23],[46,4,29,4,"activityLevel"],[46,17,29,17],[46,19,29,19],[46,27,29,27],[47,4,30,4,"currentPlayers"],[47,18,30,18],[47,20,30,20],[47,21,30,21],[48,4,31,4,"averageSkillLevel"],[48,21,31,21],[48,23,31,23],[48,26,31,26],[49,4,32,4,"friendsPlayingCount"],[49,23,32,23],[49,25,32,25],[49,26,32,26],[50,4,33,4,"description"],[50,15,33,15],[50,17,33,17],[50,67,33,67],[51,4,34,4,"openTime"],[51,12,34,12],[51,14,34,14],[51,23,34,23],[52,4,35,4,"closeTime"],[52,13,35,13],[52,15,35,15],[53,2,36,2],[53,3,36,3],[53,5,37,2],[54,4,38,4,"id"],[54,6,38,6],[54,8,38,8],[54,11,38,11],[55,4,39,4,"name"],[55,8,39,8],[55,10,39,10],[55,35,39,35],[56,4,40,4,"address"],[56,11,40,11],[56,13,40,13],[56,42,40,42],[57,4,41,4,"latitude"],[57,12,41,12],[57,14,41,14],[57,21,41,21],[58,4,42,4,"longitude"],[58,13,42,13],[58,15,42,15],[58,16,42,16],[58,23,42,23],[59,4,43,4,"activityLevel"],[59,17,43,17],[59,19,43,19],[59,24,43,24],[60,4,44,4,"currentPlayers"],[60,18,44,18],[60,20,44,20],[60,21,44,21],[61,4,45,4,"averageSkillLevel"],[61,21,45,21],[61,23,45,23],[61,26,45,26],[62,4,46,4,"friendsPlayingCount"],[62,23,46,23],[62,25,46,25],[63,2,47,2],[63,3,47,3],[63,4,48,1],[64,2,50,0],[64,6,50,6,"skillLevelToNumber"],[64,24,50,24],[64,27,50,28,"skillLevel"],[64,37,50,46],[64,41,50,59],[65,4,51,2],[65,12,51,10,"skillLevel"],[65,22,51,20],[66,6,52,4],[66,11,52,9],[66,21,52,19],[67,8,53,6],[67,15,53,13],[67,16,53,14],[68,6,54,4],[68,11,54,9],[68,25,54,23],[69,8,55,6],[69,15,55,13],[69,16,55,14],[70,6,56,4],[70,11,56,9],[70,21,56,19],[71,8,57,6],[71,15,57,13],[71,16,57,14],[72,6,58,4],[73,8,59,6],[73,15,59,13],[73,16,59,14],[74,4,60,2],[75,2,61,0],[75,3,61,1],[76,2,63,7],[76,6,63,13,"useCourts"],[76,15,63,22],[76,18,63,26,"userId"],[76,24,63,41],[76,28,63,46],[77,4,63,46,"_s"],[77,6,63,46],[78,4,64,2],[78,8,64,2,"_useState"],[78,17,64,2],[78,20,64,30],[78,24,64,30,"useState"],[78,30,64,38],[78,31,64,38,"useState"],[78,39,64,38],[78,41,64,48],[78,43,64,50],[78,44,64,51],[79,6,64,51,"_useState2"],[79,16,64,51],[79,23,64,51,"_slicedToArray"],[79,37,64,51],[79,38,64,51,"default"],[79,45,64,51],[79,47,64,51,"_useState"],[79,56,64,51],[80,6,64,9,"courts"],[80,12,64,15],[80,15,64,15,"_useState2"],[80,25,64,15],[81,6,64,17,"setCourts"],[81,15,64,26],[81,18,64,26,"_useState2"],[81,28,64,26],[82,4,65,2],[82,8,65,2,"_useState3"],[82,18,65,2],[82,21,65,32],[82,25,65,32,"useState"],[82,31,65,40],[82,32,65,40,"useState"],[82,40,65,40],[82,42,65,41],[82,46,65,45],[82,47,65,46],[83,6,65,46,"_useState4"],[83,16,65,46],[83,23,65,46,"_slicedToArray"],[83,37,65,46],[83,38,65,46,"default"],[83,45,65,46],[83,47,65,46,"_useState3"],[83,57,65,46],[84,6,65,9,"loading"],[84,13,65,16],[84,16,65,16,"_useState4"],[84,26,65,16],[85,6,65,18,"setLoading"],[85,16,65,28],[85,19,65,28,"_useState4"],[85,29,65,28],[86,4,66,2],[86,8,66,8,"realtimeManager"],[86,23,66,23],[86,26,66,26],[86,30,66,26,"useRealtimeManager"],[86,51,66,44],[86,52,66,44,"useRealtimeManager"],[86,70,66,44],[86,72,66,45],[86,83,66,56],[86,84,66,57],[87,4,67,2],[87,8,67,8,"hasSetupRealtime"],[87,24,67,24],[87,27,67,27],[87,31,67,27,"useRef"],[87,37,67,33],[87,38,67,33,"useRef"],[87,44,67,33],[87,46,67,34],[87,51,67,39],[87,52,67,40],[88,4,69,2],[88,8,69,8,"fetchCourts"],[88,19,69,19],[88,22,69,22],[88,26,69,22,"useCallback"],[88,32,69,33],[88,33,69,33,"useCallback"],[88,44,69,33],[88,63,69,33,"_asyncToGenerator"],[88,80,69,33],[88,81,69,33,"default"],[88,88,69,33],[88,90,69,34],[88,103,69,46],[89,6,70,4,"console"],[89,13,70,11],[89,14,70,12,"log"],[89,17,70,15],[89,18,70,16],[89,49,70,47],[89,50,70,48],[90,6,71,4],[90,10,71,4,"logPerformance"],[90,33,71,18],[90,34,71,18,"logPerformance"],[90,48,71,18],[90,50,71,19],[90,63,71,32],[90,65,71,34],[90,76,71,45],[90,78,71,47],[90,91,71,60],[90,92,71,61],[91,6,73,4],[91,10,73,8],[91,11,73,9],[91,15,73,9,"isSupabaseConfigured"],[91,45,73,29],[91,46,73,29,"isSupabaseConfigured"],[91,66,73,29],[91,68,73,30],[91,69,73,31],[91,71,73,33],[92,8,74,6,"console"],[92,15,74,13],[92,16,74,14,"log"],[92,19,74,17],[92,20,74,18],[92,73,74,71],[92,74,74,72],[93,8,75,6,"setCourts"],[93,17,75,15],[93,18,75,16,"MOCK_COURTS"],[93,29,75,27],[93,30,75,28],[94,8,76,6,"setLoading"],[94,18,76,16],[94,19,76,17],[94,24,76,22],[94,25,76,23],[95,8,77,6],[95,12,77,6,"logPerformance"],[95,35,77,20],[95,36,77,20,"logPerformance"],[95,50,77,20],[95,52,77,21],[95,63,77,32],[95,65,77,34],[95,76,77,45],[95,78,77,47],[95,91,77,60],[95,93,77,62],[96,10,77,64,"mock"],[96,14,77,68],[96,16,77,70],[97,8,77,75],[97,9,77,76],[97,10,77,77],[98,8,78,6],[99,6,79,4],[101,6,81,4],[102,6,82,4],[102,10,82,10,"cacheKey"],[102,18,82,18],[102,21,82,21],[102,31,82,31,"userId"],[102,37,82,37],[102,41,82,41],[102,46,82,46],[102,48,82,48],[103,6,83,4],[103,10,83,10,"cached"],[103,16,83,16],[103,19,83,19],[103,23,83,19,"getCachedData"],[103,46,83,32],[103,47,83,32,"getCachedData"],[103,60,83,32],[103,62,83,42,"cacheKey"],[103,70,83,50],[103,72,83,52],[103,78,83,58],[103,79,83,59],[104,6,84,4],[104,10,84,8,"cached"],[104,16,84,14],[104,18,84,16],[105,8,85,6,"console"],[105,15,85,13],[105,16,85,14,"log"],[105,19,85,17],[105,20,85,18],[105,52,85,50],[105,53,85,51],[106,8,86,6,"setCourts"],[106,17,86,15],[106,18,86,16,"cached"],[106,24,86,22],[106,25,86,23],[107,8,87,6,"setLoading"],[107,18,87,16],[107,19,87,17],[107,24,87,22],[107,25,87,23],[109,8,89,6],[110,8,90,6,"setTimeout"],[110,18,90,16],[110,19,90,17],[110,25,90,23],[111,10,91,8,"fetchCourtsFromServer"],[111,31,91,29],[111,32,91,30],[111,33,91,31],[112,8,92,6],[112,9,92,7],[112,11,92,9],[112,14,92,12],[112,15,92,13],[113,8,93,6],[114,6,94,4],[115,6,96,4],[115,12,96,10,"fetchCourtsFromServer"],[115,33,96,31],[115,34,96,32],[115,35,96,33],[116,4,97,2],[116,5,97,3],[116,8,97,5],[116,9,97,6,"userId"],[116,15,97,12],[116,16,97,13],[116,17,97,14],[117,4,99,2],[117,8,99,8,"fetchCourtsFromServer"],[117,29,99,29],[117,32,99,32],[117,36,99,32,"useCallback"],[117,42,99,43],[117,43,99,43,"useCallback"],[117,54,99,43],[117,73,99,43,"_asyncToGenerator"],[117,90,99,43],[117,91,99,43,"default"],[117,98,99,43],[117,100,99,44],[117,113,99,56],[118,6,100,4],[118,10,100,8],[118,11,100,9],[118,15,100,9,"isSupabaseConfigured"],[118,45,100,29],[118,46,100,29,"isSupabaseConfigured"],[118,66,100,29],[118,68,100,30],[118,69,100,31],[118,71,100,33],[119,6,102,4],[119,10,102,8],[120,8,103,6,"console"],[120,15,103,13],[120,16,103,14,"log"],[120,19,103,17],[120,20,103,18],[120,58,103,56],[120,59,103,57],[122,8,105,6],[123,8,106,6],[123,12,106,6,"_yield$supabase$from$"],[123,33,106,6],[123,42,106,36,"supabase"],[123,72,106,44],[123,73,106,44,"supabase"],[123,81,106,44],[123,82,107,9,"from"],[123,86,107,13],[123,87,107,14],[123,95,107,22],[123,96,107,23],[123,97,108,9,"select"],[123,103,108,15],[123,104,108,16],[123,213,108,125],[123,214,108,126],[124,10,106,14,"data"],[124,14,106,18],[124,17,106,18,"_yield$supabase$from$"],[124,38,106,18],[124,39,106,14,"data"],[124,43,106,18],[125,10,106,20,"error"],[125,15,106,25],[125,18,106,25,"_yield$supabase$from$"],[125,39,106,25],[125,40,106,20,"error"],[125,45,106,25],[126,8,110,6],[126,12,110,10,"error"],[126,17,110,15],[126,19,110,17],[127,10,111,8,"console"],[127,17,111,15],[127,18,111,16,"log"],[127,21,111,19],[127,22,111,20],[127,57,111,55],[127,59,111,57,"error"],[127,64,111,62],[127,65,111,63],[128,10,112,8],[128,16,112,14,"error"],[128,21,112,19],[129,8,113,6],[130,8,115,6,"console"],[130,15,115,13],[130,16,115,14,"log"],[130,19,115,17],[130,20,115,18],[130,40,115,38],[130,42,115,40,"data"],[130,46,115,44],[130,48,115,46,"length"],[130,54,115,52],[130,58,115,56],[130,59,115,57],[130,61,115,59],[130,69,115,67],[130,70,115,68],[132,8,117,6],[133,8,118,6],[133,12,118,10,"friendIds"],[133,21,118,29],[133,24,118,32],[133,26,118,34],[134,8,119,6],[134,12,119,10,"userId"],[134,18,119,16],[134,20,119,18],[135,10,120,8],[135,14,120,8,"_yield$supabase$from$2"],[135,36,120,8],[135,45,120,44,"supabase"],[135,75,120,52],[135,76,120,52,"supabase"],[135,84,120,52],[135,85,121,11,"from"],[135,89,121,15],[135,90,121,16],[135,99,121,25],[135,100,121,26],[135,101,122,11,"select"],[135,107,122,17],[135,108,122,18],[135,119,122,29],[135,120,122,30],[135,121,123,11,"eq"],[135,123,123,13],[135,124,123,14],[135,133,123,23],[135,135,123,25,"userId"],[135,141,123,31],[135,142,123,32],[135,143,124,11,"eq"],[135,145,124,13],[135,146,124,14],[135,154,124,22],[135,156,124,24],[135,166,124,34],[135,167,124,35],[136,12,120,22,"friendsData"],[136,23,120,33],[136,26,120,33,"_yield$supabase$from$2"],[136,48,120,33],[136,49,120,16,"data"],[136,53,120,20],[137,10,126,8,"friendIds"],[137,19,126,17],[137,22,126,20],[137,23,126,21,"friendsData"],[137,34,126,32],[137,38,126,36],[137,40,126,38],[137,42,126,40,"map"],[137,45,126,43],[137,46,126,44,"f"],[137,47,126,45],[137,51,126,49,"f"],[137,52,126,50],[137,53,126,51,"friend_id"],[137,62,126,60],[137,63,126,61],[138,10,127,8,"console"],[138,17,127,15],[138,18,127,16,"log"],[138,21,127,19],[138,22,127,20],[138,43,127,41],[138,45,127,43,"friendIds"],[138,54,127,52],[138,55,127,53,"length"],[138,61,127,59],[138,63,127,61],[138,72,127,70],[138,73,127,71],[139,8,128,6],[140,8,130,6],[140,12,130,12,"courtsWithActivity"],[140,30,130,30],[140,39,130,39,"Promise"],[140,46,130,46],[140,47,130,47,"all"],[140,50,130,50],[140,51,131,8],[140,52,131,9,"data"],[140,56,131,13],[140,60,131,17],[140,62,131,19],[140,64,131,21,"map"],[140,67,131,24],[141,10,131,24],[141,14,131,24,"_ref3"],[141,19,131,24],[141,26,131,24,"_asyncToGenerator"],[141,43,131,24],[141,44,131,24,"default"],[141,51,131,24],[141,53,131,25],[141,64,131,32,"court"],[141,69,131,37],[141,71,131,42],[142,12,132,10],[143,12,133,10],[143,16,133,10,"_yield$supabase$from$3"],[143,38,133,10],[143,47,133,65,"supabase"],[143,77,133,73],[143,78,133,73,"supabase"],[143,86,133,73],[143,87,134,13,"from"],[143,91,134,17],[143,92,134,18],[143,103,134,29],[143,104,134,30],[143,105,135,13,"select"],[143,111,135,19],[143,112,135,20],[144,0,136,0],[145,0,137,0],[146,0,138,0],[147,0,139,0],[147,13,139,13],[147,14,139,14],[147,15,140,13,"eq"],[147,17,140,15],[147,18,140,16],[147,28,140,26],[147,30,140,28,"court"],[147,35,140,33],[147,36,140,34,"id"],[147,38,140,36],[147,39,140,37],[147,40,141,13,"gte"],[147,43,141,16],[147,44,141,17],[147,56,141,29],[147,58,141,31],[147,62,141,35,"Date"],[147,66,141,39],[147,67,141,40],[147,68,141,41],[147,69,141,42,"toISOString"],[147,80,141,53],[147,81,141,54],[147,82,141,55],[147,83,141,56],[148,14,133,24,"checkIns"],[148,22,133,32],[148,25,133,32,"_yield$supabase$from$3"],[148,47,133,32],[148,48,133,18,"data"],[148,52,133,22],[149,14,133,41,"checkInsError"],[149,27,133,54],[149,30,133,54,"_yield$supabase$from$3"],[149,52,133,54],[149,53,133,34,"error"],[149,58,133,39],[150,12,143,10],[150,16,143,14,"checkInsError"],[150,29,143,27],[150,31,143,29],[151,14,144,12,"console"],[151,21,144,19],[151,22,144,20,"log"],[151,25,144,23],[151,26,144,24],[151,73,144,71],[151,75,144,73,"court"],[151,80,144,78],[151,81,144,79,"id"],[151,83,144,81],[151,85,144,83],[151,88,144,86],[151,90,144,88,"checkInsError"],[151,103,144,101],[151,104,144,102],[152,12,145,10],[153,12,147,10],[153,16,147,16,"currentPlayers"],[153,30,147,30],[153,33,147,33,"checkIns"],[153,41,147,41],[153,43,147,43,"length"],[153,49,147,49],[153,53,147,53],[153,54,147,54],[155,12,149,10],[156,12,150,10],[156,16,150,16,"friendsPlaying"],[156,30,150,30],[156,33,150,33,"checkIns"],[156,41,150,41],[156,43,150,43,"filter"],[156,49,150,49],[156,50,150,50,"checkIn"],[156,57,150,57],[156,61,150,61,"friendIds"],[156,70,150,70],[156,71,150,71,"includes"],[156,79,150,79],[156,80,150,80,"checkIn"],[156,87,150,87],[156,88,150,88,"user_id"],[156,95,150,95],[156,96,150,96],[156,97,150,97],[156,101,150,101],[156,103,150,103],[157,12,151,10],[157,16,151,16,"friendsPlayingCount"],[157,35,151,35],[157,38,151,38,"friendsPlaying"],[157,52,151,52],[157,53,151,53,"length"],[157,59,151,59],[159,12,153,10],[160,12,154,10],[160,16,154,14,"averageSkillLevel"],[160,33,154,31],[160,36,154,34],[160,37,154,35],[161,12,155,10],[161,16,155,14,"currentPlayers"],[161,30,155,28],[161,33,155,31],[161,34,155,32],[161,38,155,36,"checkIns"],[161,46,155,44],[161,48,155,46],[162,14,156,12],[162,18,156,18,"skillSum"],[162,26,156,26],[162,29,156,29,"checkIns"],[162,37,156,37],[162,38,156,38,"reduce"],[162,44,156,44],[162,45,156,45],[162,46,156,46,"sum"],[162,49,156,49],[162,51,156,51,"checkIn"],[162,58,156,58],[162,63,156,63],[163,16,157,14],[163,23,157,21,"sum"],[163,26,157,24],[163,29,157,27,"skillLevelToNumber"],[163,47,157,45],[163,48,157,46,"checkIn"],[163,55,157,53],[163,56,157,54,"skill_level"],[163,67,157,65],[163,68,157,66],[164,14,158,12],[164,15,158,13],[164,17,158,15],[164,18,158,16],[164,19,158,17],[165,14,159,12,"averageSkillLevel"],[165,31,159,29],[165,34,159,32,"skillSum"],[165,42,159,40],[165,45,159,43,"currentPlayers"],[165,59,159,57],[166,12,160,10],[168,12,162,10],[169,12,163,10],[169,16,163,14,"averageDupr"],[169,27,163,45],[170,12,164,10],[170,16,164,14,"checkIns"],[170,24,164,22],[170,28,164,26,"checkIns"],[170,36,164,34],[170,37,164,35,"length"],[170,43,164,41],[170,46,164,44],[170,47,164,45],[170,49,164,47],[171,14,165,12],[171,18,165,18,"duprRatings"],[171,29,165,29],[171,32,165,32,"checkIns"],[171,40,165,40],[171,41,166,15,"map"],[171,44,166,18],[171,45,166,19,"checkIn"],[171,52,166,26],[171,56,166,30,"checkIn"],[171,63,166,37],[171,64,166,38,"users"],[171,69,166,43],[171,71,166,45,"dupr_rating"],[171,82,166,56],[171,83,166,57],[171,84,167,15,"filter"],[171,90,167,21],[171,91,167,23,"rating"],[171,97,167,29],[171,101,167,52,"rating"],[171,107,167,58],[171,112,167,63],[171,116,167,67],[171,120,167,71,"rating"],[171,126,167,77],[171,131,167,82,"undefined"],[171,140,167,91],[171,141,167,92],[172,14,169,12],[172,18,169,16,"duprRatings"],[172,29,169,27],[172,30,169,28,"length"],[172,36,169,34],[172,39,169,37],[172,40,169,38],[172,42,169,40],[173,16,170,14],[173,20,170,20,"duprSum"],[173,27,170,27],[173,30,170,30,"duprRatings"],[173,41,170,41],[173,42,170,42,"reduce"],[173,48,170,48],[173,49,170,49],[173,50,170,50,"sum"],[173,53,170,53],[173,55,170,55,"rating"],[173,61,170,61],[173,66,170,66,"sum"],[173,69,170,69],[173,72,170,72,"rating"],[173,78,170,78],[173,80,170,80],[173,81,170,81],[173,82,170,82],[174,16,171,14,"averageDupr"],[174,27,171,25],[174,30,171,28,"duprSum"],[174,37,171,35],[174,40,171,38,"duprRatings"],[174,51,171,49],[174,52,171,50,"length"],[174,58,171,56],[175,14,172,12],[176,12,173,10],[177,12,175,10],[177,16,175,14,"activityLevel"],[177,29,175,54],[177,32,175,57],[177,37,175,62],[178,12,176,10],[178,16,176,14,"currentPlayers"],[178,30,176,28],[178,34,176,32],[178,35,176,33],[178,37,176,35,"activityLevel"],[178,50,176,48],[178,53,176,51],[178,59,176,57],[178,60,176,58],[178,65,177,15],[178,69,177,19,"currentPlayers"],[178,83,177,33],[178,87,177,37],[178,88,177,38],[178,90,177,40,"activityLevel"],[178,103,177,53],[178,106,177,56],[178,114,177,64],[179,12,179,10],[179,19,179,17],[180,14,180,12,"id"],[180,16,180,14],[180,18,180,16,"court"],[180,23,180,21],[180,24,180,22,"id"],[180,26,180,24],[181,14,181,12,"name"],[181,18,181,16],[181,20,181,18,"court"],[181,25,181,23],[181,26,181,24,"name"],[181,30,181,28],[182,14,182,12,"address"],[182,21,182,19],[182,23,182,21,"court"],[182,28,182,26],[182,29,182,27,"address"],[182,36,182,34],[183,14,183,12,"city"],[183,18,183,16],[183,20,183,18,"court"],[183,25,183,23],[183,26,183,24,"city"],[183,30,183,28],[184,14,184,12,"zipCode"],[184,21,184,19],[184,23,184,21,"court"],[184,28,184,26],[184,29,184,27,"zip_code"],[184,37,184,35],[185,14,185,12,"latitude"],[185,22,185,20],[185,24,185,22,"court"],[185,29,185,27],[185,30,185,28,"latitude"],[185,38,185,36],[186,14,186,12,"longitude"],[186,23,186,21],[186,25,186,23,"court"],[186,30,186,28],[186,31,186,29,"longitude"],[186,40,186,38],[187,14,187,12,"activityLevel"],[187,27,187,25],[188,14,188,12,"currentPlayers"],[188,28,188,26],[189,14,189,12,"averageSkillLevel"],[189,31,189,29],[190,14,190,12,"friendsPlayingCount"],[190,33,190,31],[191,14,191,12,"description"],[191,25,191,23],[191,27,191,25,"court"],[191,32,191,30],[191,33,191,31,"description"],[191,44,191,42],[192,14,192,12,"openTime"],[192,22,192,20],[192,24,192,22,"court"],[192,29,192,27],[192,30,192,28,"open_time"],[192,39,192,37],[193,14,193,12,"closeTime"],[193,23,193,21],[193,25,193,23,"court"],[193,30,193,28],[193,31,193,29,"close_time"],[193,41,193,39],[194,14,194,12,"googlePlaceId"],[194,27,194,25],[194,29,194,27,"court"],[194,34,194,32],[194,35,194,33,"google_place_id"],[194,50,194,48],[195,14,195,12,"averageDupr"],[196,12,196,10],[196,13,196,11],[197,10,197,8],[197,11,197,9],[198,10,197,9],[198,27,197,9,"_x"],[198,29,197,9],[199,12,197,9],[199,19,197,9,"_ref3"],[199,24,197,9],[199,25,197,9,"apply"],[199,30,197,9],[199,37,197,9,"arguments"],[199,46,197,9],[200,10,197,9],[201,8,197,9],[201,12,198,6],[201,13,198,7],[202,8,200,6,"console"],[202,15,200,13],[202,16,200,14,"log"],[202,19,200,17],[202,20,200,18],[202,129,200,127],[202,130,200,128],[204,8,202,6],[205,8,203,6],[205,12,203,12,"cacheKey"],[205,20,203,20],[205,23,203,23],[205,33,203,33,"userId"],[205,39,203,39],[205,43,203,43],[205,48,203,48],[205,50,203,50],[206,8,204,6],[206,12,204,6,"setCachedData"],[206,35,204,19],[206,36,204,19,"setCachedData"],[206,49,204,19],[206,51,204,20,"cacheKey"],[206,59,204,28],[206,61,204,30,"courtsWithActivity"],[206,79,204,48],[206,80,204,49],[207,8,206,6,"setCourts"],[207,17,206,15],[207,18,206,16,"courtsWithActivity"],[207,36,206,34],[207,37,206,35],[208,8,207,6],[208,12,207,6,"logPerformance"],[208,35,207,20],[208,36,207,20,"logPerformance"],[208,50,207,20],[208,52,207,21],[208,63,207,32],[208,65,207,34],[208,76,207,45],[208,78,207,47],[208,91,207,60],[208,93,207,62],[209,10,207,64,"courtsCount"],[209,21,207,75],[209,23,207,77,"courtsWithActivity"],[209,41,207,95],[209,42,207,96,"length"],[210,8,207,103],[210,9,207,104],[210,10,207,105],[211,6,208,4],[211,7,208,5],[211,8,208,6],[211,15,208,13,"error"],[211,20,208,18],[211,22,208,20],[212,8,209,6,"console"],[212,15,209,13],[212,16,209,14,"log"],[212,19,209,17],[212,20,209,18],[212,81,209,79],[212,83,209,81,"error"],[212,88,209,86],[212,89,209,87],[213,8,210,6,"setCourts"],[213,17,210,15],[213,18,210,16,"MOCK_COURTS"],[213,29,210,27],[213,30,210,28],[214,8,211,6],[214,12,211,6,"logPerformance"],[214,35,211,20],[214,36,211,20,"logPerformance"],[214,50,211,20],[214,52,211,21],[214,63,211,32],[214,65,211,34],[214,76,211,45],[214,78,211,47],[214,91,211,60],[214,93,211,62],[215,10,211,64,"error"],[215,15,211,69],[215,17,211,71],[216,8,211,76],[216,9,211,77],[216,10,211,78],[217,6,212,4],[217,7,212,5],[217,16,212,14],[218,8,213,6,"setLoading"],[218,18,213,16],[218,19,213,17],[218,24,213,22],[218,25,213,23],[219,8,214,6,"console"],[219,15,214,13],[219,16,214,14,"log"],[219,19,214,17],[219,20,214,18],[219,47,214,45],[219,48,214,46],[220,6,215,4],[221,4,216,2],[221,5,216,3],[221,8,216,5],[221,9,216,6,"userId"],[221,15,216,12],[221,16,216,13],[221,17,216,14],[222,4,218,2],[222,8,218,2,"useEffect"],[222,14,218,11],[222,15,218,11,"useEffect"],[222,24,218,11],[222,26,218,12],[222,32,218,18],[223,6,219,4,"console"],[223,13,219,11],[223,14,219,12,"log"],[223,17,219,15],[223,18,219,16],[223,46,219,44],[223,47,219,45],[224,6,220,4,"fetchCourts"],[224,17,220,15],[224,18,220,16],[224,19,220,17],[225,4,221,2],[225,5,221,3],[225,7,221,5],[225,8,221,6,"fetchCourts"],[225,19,221,17],[225,20,221,18],[225,21,221,19],[227,4,223,2],[228,4,224,2],[228,8,224,2,"useEffect"],[228,14,224,11],[228,15,224,11,"useEffect"],[228,24,224,11],[228,26,224,12],[228,32,224,18],[229,6,225,4],[229,10,225,8],[229,11,225,9],[229,15,225,9,"isSupabaseConfigured"],[229,45,225,29],[229,46,225,29,"isSupabaseConfigured"],[229,66,225,29],[229,68,225,30],[229,69,225,31],[229,73,225,35,"hasSetupRealtime"],[229,89,225,51],[229,90,225,52,"current"],[229,97,225,59],[229,99,225,61],[230,8,226,6],[231,6,227,4],[232,6,229,4,"hasSetupRealtime"],[232,22,229,20],[232,23,229,21,"current"],[232,30,229,28],[232,33,229,31],[232,37,229,35],[233,6,230,4,"console"],[233,13,230,11],[233,14,230,12,"log"],[233,17,230,15],[233,18,230,16],[233,84,230,82],[233,85,230,83],[235,6,232,4],[236,6,233,4],[236,10,233,10,"unsubscribe"],[236,21,233,21],[236,24,233,24,"realtimeManager"],[236,39,233,39],[236,40,233,40,"subscribe"],[236,49,233,49],[236,50,233,50],[237,8,234,6,"table"],[237,13,234,11],[237,15,234,13],[237,26,234,24],[238,8,235,6,"event"],[238,13,235,11],[238,15,235,13],[238,18,235,16],[239,8,236,6,"onUpdate"],[239,16,236,14],[239,18,236,16,"onUpdate"],[239,19,236,16],[239,24,236,22],[240,10,237,8,"console"],[240,17,237,15],[240,18,237,16,"log"],[240,21,237,19],[240,22,237,20],[240,84,237,82],[240,85,237,83],[241,10,238,8,"fetchCourts"],[241,21,238,19],[241,22,238,20],[241,23,238,21],[242,8,239,6],[242,9,239,7],[243,8,240,6,"fallbackFetch"],[243,21,240,19],[243,23,240,21,"fetchCourts"],[243,34,240,32],[244,8,241,6,"timeoutMs"],[244,17,241,15],[244,19,241,17],[244,24,241,22],[245,8,242,6,"maxRetries"],[245,18,242,16],[245,20,242,18],[246,6,243,4],[246,7,243,5],[246,8,243,6],[247,6,245,4],[247,13,245,11],[247,19,245,17],[248,8,246,6,"console"],[248,15,246,13],[248,16,246,14,"log"],[248,19,246,17],[248,20,246,18],[248,66,246,64],[248,67,246,65],[249,8,247,6,"unsubscribe"],[249,19,247,17],[249,20,247,18],[249,21,247,19],[250,8,248,6,"hasSetupRealtime"],[250,24,248,22],[250,25,248,23,"current"],[250,32,248,30],[250,35,248,33],[250,40,248,38],[251,6,249,4],[251,7,249,5],[252,4,250,2],[252,5,250,3],[252,7,250,5],[252,8,250,6,"fetchCourts"],[252,19,250,17],[252,21,250,19,"realtimeManager"],[252,36,250,34],[252,37,250,35],[252,38,250,36],[253,4,252,2],[253,11,252,9],[254,6,252,11,"courts"],[254,12,252,17],[255,6,252,19,"loading"],[255,13,252,26],[256,6,252,28,"refetch"],[256,13,252,35],[256,15,252,37,"fetchCourts"],[257,4,252,49],[257,5,252,50],[258,2,253,0],[258,3,253,1],[259,2,253,2,"_s"],[259,4,253,2],[259,5,63,13,"useCourts"],[259,14,63,22],[260,4,63,22],[260,12,66,26,"useRealtimeManager"],[260,33,66,44],[260,34,66,44,"useRealtimeManager"],[260,52,66,44],[261,2,66,44],[262,0,66,44],[262,3]],"functionMap":{"names":["<global>","skillLevelToNumber","useCourts","fetchCourts","setTimeout$argument_0","fetchCourtsFromServer","map$argument_0","checkIns.filter$argument_0","checkIns.reduce$argument_0","checkIns.map$argument_0","checkIns.map.filter$argument_0","duprRatings.reduce$argument_0","useEffect$argument_0","realtimeManager.subscribe$argument_0.onUpdate","<anonymous>"],"mappings":"AAA;2BCiD;CDW;yBEE;kCCM;iBCqB;ODE;GDK;4CGE;4CC2B,gBD;yBCK;kDCmB,8CD;6CEM;aFE;mBGQ,qCH;sBIC,qEJ;iDKG,6BL;SD2B;GHmB;YUE;GVG;YUG;gBCY;ODG;WEM;KFI;GVC;CFG"},"hasCjsExports":false},"type":"js/module"}]}